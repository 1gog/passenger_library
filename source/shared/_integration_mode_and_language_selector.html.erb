<div class="icon-selection-row-container icon-selection-row-container-tabs">
  <div class="icon-selection-row-intro icon-selection-row-intro-small">
    <p class="lead">Step 1: please select the integration mode you are interested in</p>
    <p>
      <a href="<%= url_for '/indepth/integration_modes.html' %>">What is this?</a> &middot;
      <a href="<%= url_for '/indepth/integration_modes.html' %>#differences">What are the differences?</a> &middot;
      <a href="<%= url_for '/indepth/integration_modes.html' %>#which-mode-should-you-choose">Which one should I pick?</a>
    </p>
  </div>

  <div class="icon-selection-row-items" role="tablist">
    <a href="#nginx_choices" class="icon-selection-row-item nginx" role="presentation" aria-controls="nginx_choices" data-toggle="tab">
      <img src="<%= url_for '/images/nginx.png' %>" width="96" height="96" alt="Nginx">
      <span class="icon-selection-row-item-label">Nginx</span>
    </a>
    <a href="#apache_choices" class="icon-selection-row-item apache" role="presentation" aria-controls="apache_choices" data-toggle="tab">
      <img src="<%= url_for '/images/apache.png' %>" width="96" height="96" alt="Apache">
      <span class="icon-selection-row-item-label">Apache</span>
    </a>
    <a href="#standalone_choices" class="icon-selection-row-item standalone" role="presentation" aria-controls="standalone_choices" data-toggle="tab">
      <img src="<%= url_for '/images/passenger.png' %>" width="80" height="96" alt="Standalone">
      <span class="icon-selection-row-item-label">Standalone</span>
    </a>
  </div>
</div>

<%=
render_partial("/shared/programming_language_selector.html", locals: locals.merge(
  enabled: false,
  container_attrs: "id=\"#disabled_choices\" role=\"tabpanel\"",
  container_classes: "icon-selection-row-container-tab-content active",
  intro_classes: "icon-selection-row-intro-small",
  intro_text: "Step 2: please select your programming language."
))
%>

<% INTEGRATION_MODES.each do |spec| %>
  <%=
  url_prefix = locals[:"#{spec[:integration_mode_type]}_url_prefix"]
  render_partial("/shared/programming_language_selector.html", locals: locals.merge(
    url_prefix: url_prefix,
    url_suffix: locals[:language_suffix],
    container_attrs: "id=\"#{spec[:integration_mode_type]}_choices\" role=\"tabpanel\"",
    container_classes: "icon-selection-row-container-tab-content",
    intro_classes: "icon-selection-row-intro-small",
    intro_text: "Step 2: please select your programming language."
  ))
  %>
<% end %>
